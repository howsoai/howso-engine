;Module for trainee_template.
;Contains helper methods for validating user-defined parameters
(null

    ;Verifies that feature parameters do not contain untrained features
    ; this method checks context_features, action_features, and action feature
    ; returns a list of strings, one for each invalid parameter
    #CheckForUntrainedFeatures
    (seq
        (if (= errors (null))
            (declare (assoc errors (list)))
        )

        (if (size context_features)
            (let
                (assoc invalid_features_map (remove (zip context_features) defaultFeatures))

                (if (size invalid_features_map)
                    (accum (assoc
                        errors "context_features contains features that are not trained."
                    ))
                )
            )
        )

        (if (size action_features)
            (let
                (assoc invalid_features_map (remove (zip action_features) defaultFeatures))

                (if (size invalid_features_map)
                    (accum (assoc
                        errors "action_features contains features that are not trained."
                    ))
                )
            )
        )

        (if (and (!= (null) action_feature) (!= ".targetless"))
            (let
                (assoc invalid_features_map (remove (zip (list action_feature)) defaultFeatures) )

                (if (size invalid_features_map)
                    (accum (assoc
                        errors "action_feature is a feature that is not trained."
                    ))
                )
            )
        )

        errors
    )

)