;Module for trainee_template.
;Contains helper methods for validating user-defined parameters
(null

	;Verifies that feature parameters do not contain untrained features
	; this method checks context_features, action_features, and action feature
	; returns a list of strings, one for each invalid parameter
	#CheckForUntrainedFeatures
	(declare
		(assoc
			errors (list)
			context_features (list)
			action_features (list)
			action_feature (null)
		)

		(if
			(size
				(remove
					(zip (append context_features action_features action_feature))
					trainedFeatures
				)
			)
			;if there is an untrained feature in all_features, check each parameter to give the correct
			(seq
				(if (size context_features)
					(if (size (remove (zip context_features) trainedFeatures))
						(accum (assoc
							errors "context_features contains features that are not trained."
						))
					)
				)

				(if (size action_features)
					(if (size (remove (zip action_features) trainedFeatures))
						(accum (assoc
							errors "action_features contains features that are not trained."
						))
					)
				)

				(if (and (!= (null) action_feature) (!= action_feature ".targetless"))
					(if (not (contains_value trainedFeatures action_feature))
						(accum (assoc
							errors "action_feature is a feature that is not trained."
						))
					)
				)
			)
		)

		errors
	)

)